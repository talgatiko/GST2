<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Голосовой робот-демонстратор</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <h1>Голосовой робот-демонстратор</h1>
    
    <div class="status" id="status">
      <div class="status-indicator" id="status-indicator"></div>
      <span id="status-text">Статус: Инициализация...</span>
    </div>
    
    <div>
      <h2>Настройки</h2>
      <textarea id="settings-input" spellcheck="false"></textarea>
      <div class="button-group">
        <button id="save-settings">Сохранить настройки</button>
        <button id="reset-settings">Сбросить настройки</button>
      </div>
    </div>
    
    <div>
      <h2>Лог работы</h2>
      <div class="button-group">
        <button id="toggle-bot">Запустить бота</button>
        <button id="clear-log">Очистить лог</button>
      </div>
      <textarea id="log-output" class="log-textarea" readonly></textarea>
    </div>
  </div>
  
  <footer>
    <p>Голосовой робот-демонстратор v1.5</p>
  </footer>
  
  <!-- Добавление глобальных функций логирования для отладки -->
  <script>
    function debugLog(message) {
      console.log(`[DEBUG] ${message}`);
      const logElement = document.getElementById('log-output');
      if (logElement) {
        logElement.value += `[DEBUG] ${message}\n`;
        logElement.scrollTop = logElement.scrollHeight;
      }
    }

    function errorLog(message) {
      console.error(`[ERROR] ${message}`);
      const logElement = document.getElementById('log-output');
      if (logElement) {
        logElement.value += `[ERROR] ${message}\n`;
        logElement.scrollTop = logElement.scrollHeight;
      }
    }
  </script>
  
  <!-- Загрузка скриптов приложения -->
  <script src="js/default-settings.js"></script>
  <script src="js/logger.js"></script>
  <script src="js/settings.js"></script>
  <script src="js/speech-recognizer.js"></script>
  <script src="js/ai-client.js"></script>
  <script src="js/speech-synthesizer.js"></script>
  <script src="js/voice-bot.js"></script>
  <script src="js/app.js"></script>

  <!-- Модальное окно для ввода API-ключа -->
  <div id="api-key-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Введите ваш API-ключ</h2>
      <input type="text" id="api-key-input" placeholder="API-ключ">
      <button id="save-api-key">Сохранить</button>
    </div>
  </div>

  <style>
    /* Стили для модального окна */
    .modal {
      display: none; /* Скрыто по умолчанию */
      position: fixed; /* Остается на месте */
      z-index: 1; /* Разместить сверху */
      left: 0;
      top: 0;
      width: 100%; /* Полная ширина */
      height: 100%; /* Полная высота */
      overflow: auto; /* Включить прокрутку, если необходимо */
      background-color: rgba(0,0,0,0.4); /* Черный с прозрачностью */
    }

    /* Содержимое модального окна */
    .modal-content {
      background-color: #fefefe;
      margin: 15% auto; /* 15% сверху и по центру */
      padding: 20px;
      border: 1px solid #888;
      width: 80%; /* Может быть изменено */
    }

    /* Кнопка закрытия */
    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
    }

    .close:hover,
    .close:focus {
      color: black;
      text-decoration: none;
      cursor: pointer;
    }
  </style>
</body>
</html>
